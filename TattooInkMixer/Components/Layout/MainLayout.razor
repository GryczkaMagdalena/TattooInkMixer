@inherits LayoutComponentBase
@inject IConfiguration Configuration

<MudThemeProvider Theme="_theme" IsDarkMode="true" />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudAppBar Elevation="1" Dense="true">
        <MudLink Href="/" Typo="Typo.h6" Color="Color.Inherit" Underline="Underline.None" Class="brand-link">
            @if (!string.IsNullOrWhiteSpace(_headerLogoPath))
            {
                <img src="@_headerLogoPath" alt="Tattoo Ink Mixer" class="brand-logo" />
            }
            else
            {
                <span>Tattoo Ink Mixer</span>
            }
        </MudLink>
        <MudSpacer />
        <MudButton Variant="Variant.Text" Color="Color.Inherit">Log in</MudButton>
        <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="ms-2" Href="/signup">Sign up</MudButton>
    </MudAppBar>

    <MudMainContent>
        <MudContainer MaxWidth="MaxWidth.Large" Class="py-4">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code {
    private string? _headerLogoPath;

    protected override void OnInitialized()
    {
        _headerLogoPath = Configuration["Branding:HeaderLogoPath"];
    }

    private readonly MudTheme _theme = new()
    {
        PaletteDark = new PaletteDark
        {
            Background = "#151313",
            Surface = "#151313",
            Primary = "#F3E2C4",
            PrimaryContrastText = "#151313",
            Secondary = "#F05048",
            TextPrimary = "#F3E2C4",
            TextSecondary = "#D8CBB5"
        }
    };
}
